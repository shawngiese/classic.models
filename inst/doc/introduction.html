<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="date" content="2017-08-13" />

<title>Introduction to classic models</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Introduction to classic models</h1>
<h4 class="date"><em>2017-08-13</em></h4>



<p>This package introduces includes datasets from the Classic Models database for the Analytics Designer from OpenText. The goal of this package is to provide a dataset for learning to integrate R scripts with the BIRT report design. These design files are used by the OpenText Information Hub (iHub) server.</p>
<p>This package is a work in progress which hopes to include:</p>
<ul>
<li>More R examples</li>
<li>Examples of grabbing tables of data from the iHub</li>
<li>Examples of sending data to the iHub</li>
</ul>
<div id="using-the-data" class="section level2">
<h2>Using the data</h2>
<p>The data here is for testing purposes only. Some commands you might want to try to see a data frame include the following: - summary(ORDERS) - head(ORDERS)</p>
<p>You can convert this data into R formats to use with other R packages. For example strings containing dates can be converted to R date objects, repeated values can be made into factors. For example, dates in these data sets were converted to a date type with the following commands:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ORDERS$ORDERDATE &lt;-<span class="st"> </span><span class="kw">as.Date</span>(ORDERS$ORDERDATE, <span class="dt">format=</span> <span class="st">&quot;%Y-%m-%d&quot;</span>)
ORDERS$REQUIREDDATE &lt;-<span class="st"> </span><span class="kw">as.Date</span>(ORDERS$REQUIREDDATE, <span class="dt">format=</span> <span class="st">&quot;%Y-%m-%d&quot;</span>)
ORDERS$SHIPPEDDATE &lt;-<span class="st"> </span><span class="kw">as.Date</span>(ORDERS$SHIPPEDDATE, <span class="dt">format=</span> <span class="st">&quot;%Y-%m-%d&quot;</span>)
PAYMENTS$PAYMENTDATE &lt;-<span class="st"> </span><span class="kw">as.Date</span>(PAYMENTS$PAYMENTDATE, <span class="dt">format=</span> <span class="st">&quot;%Y-%m-%d&quot;</span>)</code></pre></div>
<p>You can merge data from different data frames using merge(). For example, the following command will make a new data set called ‘data’ by combining the two data sets ORDERDETAILS and ORDERS. The merge uses the column ORDERNUMBER to find matching rows.:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span><span class="kw">merge</span>(ORDERDETAILS, ORDERS, <span class="st">&quot;ORDERNUMBER&quot;</span>)</code></pre></div>
<p>Once you have your new data set you can apply other R commands such as plot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(data$ORDERDATE, data$PRICEEACH)</code></pre></div>
<p>Example of plotting an aggregate of a data frame, after merging ORDERDETAILS and ORDERS.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">shipping =<span class="st"> </span><span class="kw">aggregate</span>(PRICEEACH*QUANTITYORDERED ~<span class="st"> </span>STATUS, data, sum)
<span class="kw">colnames</span>(shipping) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Status&quot;</span>, <span class="st">&quot;Value&quot;</span>)
<span class="co"># options(scipen=999)</span>
myplot =<span class="st"> </span><span class="kw">barplot</span>(shipping$Value, <span class="dt">names.arg=</span>shipping$Status, <span class="dt">ylim =</span> <span class="kw">c</span>( <span class="dv">0</span> , <span class="dv">10000000</span> ), <span class="dt">xlab=</span><span class="st">&quot;Status&quot;</span>, <span class="dt">yaxt=</span><span class="st">&quot;n&quot;</span>)
my.axis &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;$&quot;</span>,<span class="kw">prettyNum</span>(<span class="kw">axTicks</span>(<span class="dv">2</span>)/<span class="dv">1000</span>, <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>),<span class="st">&quot;K&quot;</span>,<span class="dt">sep=</span><span class="st">&quot; &quot;</span>)
<span class="kw">axis</span>(<span class="dv">2</span>,<span class="dt">at=</span><span class="kw">axTicks</span>(<span class="dv">2</span>), <span class="dt">labels=</span>my.axis, <span class="dt">las=</span><span class="dv">1</span>)
my.bars &lt;-<span class="kw">paste</span>(<span class="st">&quot;$&quot;</span>,<span class="kw">prettyNum</span>(<span class="kw">round</span>(shipping$Value/<span class="dv">1000</span>), <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>),<span class="st">&quot;K&quot;</span>,<span class="dt">sep=</span><span class="st">&quot; &quot;</span>)
<span class="kw">text</span>(myplot, shipping$Value, <span class="dt">labels=</span>my.bars, <span class="dt">pos=</span><span class="dv">3</span>, <span class="dt">offset=</span>.<span class="dv">1</span>)</code></pre></div>
<p>For more advanced data manipulation consider R packages such as <a href="https://cran.r-project.org/web/packages/dplyr/">dplyr</a> and <a href="https://cran.r-project.org/web/packages/tidyr/">tidyr</a>.</p>
<p>To access other data sets available in your R instance type data() in your R console. plo ## Using Rserve</p>
<p>Install the <a href="https://cran.r-project.org/web/packages/Rserve/">Rserve</a> package to enable Analytic Designer and iHub to communicate with your installation of R. Enable the Rserve debug mode when testing connectivity with R. Optionally add print statement in your R code to send information to your R console.</p>
<p>Use the Rserve configuration file to load R code and packages each time you run Rserve (like preloading libraries and functions) . For more information about the configuration options available with Rserve see <a href="http://rforge.net/Rserve/doc.html" class="uri">http://rforge.net/Rserve/doc.html</a>.</p>
</div>
<div id="using-apache-spark" class="section level2">
<h2>Using Apache Spark</h2>
<p>If your R console is running on the same machine where Spark is installed, you can use the SparkR library to connect to Spark and its libraries. If your R console is on a different computer you can try the Sparklyr packayge and Livy. These packages enable you to aggregate data on the Spark server and only retrieve the results.</p>
</div>
<div id="loading-other-data-into-r" class="section level2">
<h2>Loading other data into R</h2>
<p>There are many ways to get the data you want into R. You can import data files such as CSV and Excel spreadsheets into R. There are many packages such as the <a href="https://cran.r-project.org/web/packages/RODBC/">RODBC</a>, <a href="https://cran.r-project.org/web/packages/RMySQL/">RMySQL</a>, <a href="https://cran.r-project.org/web/packages/ROracle/">ROracle</a>, and <a href="https://cran.r-project.org/web/packages/RJDBC/">RJDBC</a> to help with database connections.</p>
<p>To fetch data from internet sources see the documentation for packages such as curl and <a href="https://cran.r-project.org/web/packages/jsonlite/">jsonlite</a>. For web scraping, consider <a href="https://cran.r-project.org/web/packages/rvest/">rvest</a>.</p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
